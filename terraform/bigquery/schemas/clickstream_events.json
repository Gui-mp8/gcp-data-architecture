[
  { "name": "event_id",     "type": "STRING",   "mode": "REQUIRED" },
  { "name": "user_id",      "type": "STRING",   "mode": "NULLABLE" },
  { "name": "session_id",   "type": "STRING",   "mode": "NULLABLE" },
  { "name": "timestamp",    "type": "STRING","mode": "REQUIRED" },
  { "name": "event_type",   "type": "STRING",   "mode": "NULLABLE" },
  { "name": "page_url",     "type": "STRING",   "mode": "NULLABLE" },
  { "name": "user_agent",   "type": "STRING",   "mode": "NULLABLE" },
  { "name": "ip_address",   "type": "STRING",   "mode": "NULLABLE" },
  { "name": "referrer",     "type": "STRING",   "mode": "NULLABLE" },
  { "name": "device_type",  "type": "STRING",   "mode": "NULLABLE" },
  { "name": "country",      "type": "STRING",   "mode": "NULLABLE" },
  {
    "name": "properties",
    "type": "RECORD",
    "mode": "NULLABLE",
    "fields": [
      { "name": "product_id",    "type": "STRING",   "mode": "NULLABLE" },
      { "name": "category",      "type": "STRING",   "mode": "NULLABLE" },
      { "name": "price",         "type": "STRING",  "mode": "NULLABLE" },
      { "name": "quantity",      "type": "STRING",    "mode": "NULLABLE" },
      { "name": "cart_value",    "type": "STRING",  "mode": "NULLABLE" },
      { "name": "items_count",   "type": "STRING",    "mode": "NULLABLE" },
      { "name": "search_query",  "type": "STRING",   "mode": "NULLABLE" },
      { "name": "results_count", "type": "STRING",    "mode": "NULLABLE" }
    ]
  }
]